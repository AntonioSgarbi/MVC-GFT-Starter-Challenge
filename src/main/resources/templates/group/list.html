<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layout.html}">
<meta charset="UTF-8">

<head>
    <title>Grupos</title>
</head>

<div layout:fragment="content">

    <div class="accordion accordion-flush" id="accordionFlushExample">
        <div class="accordion-item" th:each="group, iter : ${list}">
            <h2 class="accordion-header" th:id="'flush-heading' + ${iter.index}">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                    th:attr="data-bs-target='#flush-collapse'+ ${iter.index}, aria-controls='flush-collapse' + ${iter.index}"
                    aria-expanded="false" th:text="${group.name}"></button>
            </h2>
            <div th:id="'flush-collapse'+ ${iter.index}" class="accordion-collapse collapse"
                th:attr="aria-labelledby='flush-heading'+ ${iter.index}" data-bs-parent="#accordionFlushExample">
                <div class="d-flex justify-content-between accordion-body">
                    <ul>
                        <li th:each="member: ${group.members}" th:text="${member.name}"></li>
                    </ul>
                    <div class="d-flex justify-content-around align-items-center">
                        <a class="btn btn-outline-primary btn-sm m-1"
                            th:href="@{/group/edit?id=} + ${group.id}">Editar</a>
                        <a class="btn btn-outline-danger btn-sm m-1" th:href="@{/group/delete/} + ${group.id}"
                            onclick="return confirm('VocÃª realmente deseja excluir esse grupo?')">Excluir</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

</html>